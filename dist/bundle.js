/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={77:function(t){var e;e=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function o(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""},actions:[]},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this.options.actions=t.actions||e.defaults.actions,this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(o):t.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var s=document.createElement("button");s.type="button",s.setAttribute("aria-label","Close"),s.className="toast-close",s.innerHTML="&#10006;",s.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var i=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&i>360?t.insertAdjacentElement("afterbegin",s):t.appendChild(s)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=n("x",this.options),l=n("y",this.options),d="left"==this.options.position?r:"-"+r,c="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+d+","+c+")"}if(this.options.actions&&this.options.actions.length>0){const e=document.createElement("div");e.className="toastify-actions",this.options.actions.forEach((n=>{const o=document.createElement("button");o.innerText=n.text,o.className=n.className||"",o.addEventListener("click",function(e){e.stopPropagation(),"function"==typeof n.onClick&&n.onClick(this),!0===n.close&&(this.removeElement(t),window.clearTimeout(t.timeOutValue))}.bind(this)),e.appendChild(o)})),t.appendChild(e)}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},s={top:15,bottom:15},i=document.getElementsByClassName("toastify"),a=0;a<i.length;a++){t=!0===o(i[a],"toastify-top")?"toastify-top":"toastify-bottom";var r=i[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(i[a].style[t]=s[t]+"px",s[t]+=r+15):!0===o(i[a],"toastify-left")?(i[a].style[t]=e[t]+"px",e[t]+=r+15):(i[a].style[t]=n[t]+"px",n[t]+=r+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=e():this.Toastify=e()}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t='<svg fill="#000000" viewBox="0 0 35 35" data-name="Layer 2" id="bfab7229-f4bd-4fb9-b4e2-5cc957a1c57b" xmlns="http://www.w3.org/2000/svg">\r\n    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\r\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>\r\n    <g id="SVGRepo_iconCarrier">\r\n        <path d="M30.559,33.936H4.441A4.2,4.2,0,0,1,.25,29.744V12.059A4.2,4.2,0,0,1,4.441,7.867H30.559a4.2,4.2,0,0,1,4.191,4.192V29.744A4.2,4.2,0,0,1,30.559,33.936ZM4.441,10.367A1.694,1.694,0,0,0,2.75,12.059V29.744a1.694,1.694,0,0,0,1.691,1.692H30.559a1.694,1.694,0,0,0,1.691-1.692V12.059a1.694,1.694,0,0,0-1.691-1.692Z"></path>\r\n        <path d="M23.323,27.829H11.677a1.25,1.25,0,0,1,0-2.5H23.323a1.25,1.25,0,0,1,0,2.5Z"></path>\r\n        <path d="M9.966,16.564a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M14.989,16.474a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M20.011,16.474a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M25.034,16.474a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M7.455,22.047a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M12.477,21.957a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M17.5,21.957a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M22.523,21.957a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M27.545,21.957a1.251,1.251,0,0,0,0-2.5,1.251,1.251,0,0,0,0,2.5Z"></path>\r\n        <path d="M18.533,8.487a1.852,1.852,0,0,1,.847-2.478,5.376,5.376,0,0,1,3.935-.181,8.62,8.62,0,0,0,4.848.151,3.838,3.838,0,0,0,2.663-3.665c-.085-1.6-2.585-1.61-2.5,0,.075,1.408-1.734,1.551-2.763,1.426-1.668-.2-3.233-.84-4.943-.655a5.432,5.432,0,0,0-4.1,2.284,4.163,4.163,0,0,0-.146,4.38c.837,1.371,3,.116,2.159-1.262Z"></path>\r\n    </g>\r\n</svg>\r\n';var e=n(77),o=n.n(e);const s="AAOHotkeysPlus",i=!1,a={settings:{disableHotkeys:!1,showHotkeysAAO:!0,showHotkeysMission:!0,debugMode:!1},hotkeys:[]},r=class{get(){const t=localStorage.getItem(s);return t?JSON.parse(t):(localStorage.setItem(s,JSON.stringify(a)),a)}set(t,e){const n=this.get();n[t]=e,this.save(n)}save(t){localStorage.setItem(s,JSON.stringify(t))}},l=class{error(t,e=3e3){o()({text:t,duration:e,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #ff4b2b, #ff416c)"}}).showToast()}success(t,e=3e3){o()({text:t,duration:e,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #00b09b, #96c93d)"}}).showToast()}info(t,e=3e3){o()({text:t,duration:e,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #007991, #78ffd6)"}}).showToast()}warn(t,e=3e3){o()({text:t,duration:e,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #ff4b2b, #ff416c)"}}).showToast()}},d=class{constructor(){this.storage=new r,this.toast=new l}getHotkeys(){return this.storage.get().hotkeys}saveHotkeys(t){this.storage.set("hotkeys",t)}deleteHotkeysOK(){this.saveHotkeys([]),this.updateHotkeysButtons(),this.toast.error("Alle Hotkeys wurden gelöscht.")}addHotkey(t,e,n){if(!t||!e||!n)return this.toast.error("Ein Fehler ist aufgetreten. Bitte versuche es erneut."),!1;const o=this.getHotkeys(),s=o.findIndex((e=>e.id===t));return o.some((e=>e.hotkey===n&&e.id!==t))?(this.toast.error("Hotkey ist bereits in Verwendung."),!1):(s>-1?(o[s].name=e,o[s].hotkey=n):o.push({id:t,name:e,hotkey:n}),this.saveHotkeys(o),this.toast.success(`Hotkey für "${e}" ${s>-1?"aktualisiert":"gespeichert"}.`),!0)}getHotkey(t){const e=this.getHotkeys().find((e=>e.id===t));return e?e.hotkey:null}deleteHotkeyOK(t){const e=this.getHotkeys().filter((e=>e.id!==t));this.saveHotkeys(e)}deleteHotkeyMsg(t){this.deleteHotkeyOK(t),this.toast.success("Hotkey gelöscht.")}deleteHotkey(t,e){const n=this.getHotkeys().find((e=>e.id===t));if(n)return o()({text:`Möchtest du den Hotkey für "${n.name}" wirklich löschen?`,duration:-1,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #ff4b2b, #ff416c)"},actions:[{text:"Ja",className:"btn btn-danger",onClick:()=>{this.deleteHotkeyMsg(t),"function"==typeof e&&e(!0)},close:!0},{text:"Nein",className:"btn btn-success",close:!0}]}).showToast(),!1;this.toast.error("Hotkey nicht gefunden.")}deleteHotkeys(){o()({text:"Möchtest du wirklich alle Hotkeys löschen?",duration:-1,close:!0,gravity:"top",position:"center",style:{background:"linear-gradient(to right, #ff4b2b, #ff416c)"},actions:[{text:"Ja",className:"btn btn-danger",onClick:()=>this.deleteHotkeysOK(),close:!0},{text:"Nein",className:"btn btn-success",close:!0}]}).showToast()}exportHotkeys(){const t=this.getHotkeys(),e=JSON.stringify(t),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),s=document.createElement("a");s.href=o,s.download="hotkeys.json",s.click()}importHotkeys(t){const e=new FileReader;e.onload=t=>{try{const e=JSON.parse(t.target.result);this.saveHotkeys(e),this.updateHotkeysButtons(),this.toast.success("Hotkeys importiert.")}catch(t){this.toast.error("Fehler beim Importieren der Hotkeys.")}},e.readAsText(t)}updateAAOConfigButtons(e=this.settings.loadSetting("showHotkeysAAO")){document.querySelectorAll(".hotkeyConfigButton").forEach((n=>{const o=n.getAttribute("data-aao-id");let s=this.getHotkey(o);const i=t;s||(s="none"),n.innerHTML=e?`${i} [${s}]`:i;const a=n.querySelector("svg");a.style.width="12px",a.style.height="12px",a.style.fill="currentColor"}))}updateHotkeysButtons(){const t=this.getHotkeys();document.querySelectorAll(".hotkeyBtn").forEach((e=>{const n=e.getAttribute("data-aao-id"),o=t.find((t=>t.id===n));e.textContent=o?`[${o.hotkey}]`:"[none]"}))}},c="1.0.4",u=class{constructor(){this.storage=new r,this.toast=new l}getVersion(){return c}getSettings(){return this.storage.get().settings}saveSettings(t){this.storage.set("settings",t)}loadSetting(t,e=!1){return null==this.getSettings()[t]||null==this.getSettings()[t]?(e&&this.toast.error("Ungültige Einstellung."),!1):(e&&this.toast.success("Einstellung geladen."),this.getSettings()[t])}toggleSetting(t,e=!1){const n=this.getSettings();return"boolean"!=typeof n[t]?(e&&this.toast.error("Ungültige Einstellung."),!1):(n[t]=!n[t],this.saveSettings(n),e&&this.toast.success("Einstellung gespeichert."),n[t])}saveSetting(t,e,n=!1){const o=this.getSettings();o[t]=e,this.saveSettings(o),n&&this.toast.success("Einstellung gespeichert.")}},p=class{constructor(){this.hotkeys=new d,this.settings=new u}getHotkeys(){return this.hotkeys.getHotkeys()}getHotkey(t){return this.hotkeys.getHotkey(t)}loadSetting(t,e=!1){return this.settings.loadSetting(t,e)}toggleSetting(t,e=!1){return this.settings.toggleSetting(t,e)}updateAAOConfigButtons(t=this.settings.loadSetting("showHotkeysAAO")){this.hotkeys.updateAAOConfigButtons(t)}updateHotkeysButtons(){this.hotkeys.updateHotkeysButtons()}},h=class{constructor(){this.core=new p,this.modalBuilder()}modalBuilder(){const t=document.createElement("div");t.className="modal fade",t.tabIndex=-1,t.role="dialog";const e=document.createElement("div");e.className="modal-dialog",e.role="document",e.style.maxWidth="350px";const n=document.createElement("div");n.className="modal-content",t.appendChild(e),e.appendChild(n);const o=document.createElement("div");o.className="modal-header";const s=document.createElement("div");s.className="modal-body";const i=document.createElement("div");i.className="modal-footer",n.appendChild(o),n.appendChild(s),n.appendChild(i);const a=document.createElement("button");a.type="button",a.className="close",a.setAttribute("data-dismiss","modal"),a.setAttribute("aria-label","Close"),a.innerHTML='<span aria-hidden="true">&times;</span>';const r=document.createElement("h4");r.className="modal-title",o.appendChild(a),o.appendChild(r);const l=document.createElement("div"),d=document.createElement("div");d.className="input-group",d.style.marginTop="10px",s.appendChild(l),s.appendChild(d);const c=document.createElement("span"),u=document.createElement("button");u.className="btn btn-danger btn-xs",u.style.paddingBottom="0",u.style.paddingTop="3px",u.style.marginLeft="5px",u.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\r\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>\r\n    <g id="SVGRepo_iconCarrier">\r\n        <path d="M10 12V17" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\r\n        <path d="M14 12V17" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\r\n        <path d="M4 7H20" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\r\n        <path d="M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\r\n        <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\r\n    </g>\r\n</svg>\r\n';const p=u.querySelector("svg");p.style.width="14px",p.style.height="14px",l.appendChild(c),l.appendChild(u);const h=document.createElement("input");h.type="text",h.className="form-control",h.placeholder="Hotkey eingeben (z.B. Ctrl+Alt+S)";const m=document.createElement("button");m.className="btn btn-danger",m.style.paddingBottom="3px",m.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\r\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>\r\n    <g id="SVGRepo_iconCarrier">\r\n        <path\r\n            d="M12.0004 9.5L17.0004 14.5M17.0004 9.5L12.0004 14.5M4.50823 13.9546L7.43966 17.7546C7.79218 18.2115 7.96843 18.44 8.18975 18.6047C8.38579 18.7505 8.6069 18.8592 8.84212 18.9253C9.10766 19 9.39623 19 9.97336 19H17.8004C18.9205 19 19.4806 19 19.9084 18.782C20.2847 18.5903 20.5907 18.2843 20.7824 17.908C21.0004 17.4802 21.0004 16.9201 21.0004 15.8V8.2C21.0004 7.0799 21.0004 6.51984 20.7824 6.09202C20.5907 5.71569 20.2847 5.40973 19.9084 5.21799C19.4806 5 18.9205 5 17.8004 5H9.97336C9.39623 5 9.10766 5 8.84212 5.07467C8.6069 5.14081 8.38579 5.2495 8.18975 5.39534C7.96843 5.55998 7.79218 5.78846 7.43966 6.24543L4.50823 10.0454C3.96863 10.7449 3.69883 11.0947 3.59505 11.4804C3.50347 11.8207 3.50347 12.1793 3.59505 12.5196C3.69883 12.9053 3.96863 13.2551 4.50823 13.9546Z"\r\n            stroke="#fff"\r\n            stroke-width="2"\r\n            stroke-linecap="round"\r\n            stroke-linejoin="round"\r\n        ></path>\r\n    </g>\r\n</svg>\r\n';const g=m.querySelector("svg");g.style.width="18px",g.style.height="18px";const y=document.createElement("span");y.className="input-group-btn",d.appendChild(h),d.appendChild(y),y.appendChild(m);const f=document.createElement("button");f.type="button",f.className="btn btn-default btn-xs",f.setAttribute("data-dismiss","modal"),f.setAttribute("aria-label","Close"),f.textContent="Cancel";const k=document.createElement("button");k.type="button",k.className="btn btn-success btn-xs",k.textContent="Save";const b=document.createElement("button");b.type="button",b.className="btn btn-success btn-xs",b.textContent="Save & Close",i.appendChild(f),i.appendChild(k),i.appendChild(b),this.container=t,this.title=r,this.actualHotkey=c,this.input=h,this.base={header:o,body:s,footer:i},this.buttons={close:a,delete:u,reset:m,cancel:f,save:k,saveClose:b}}open(){this.place(),this.container.classList.add("in"),this.container.style.display="block"}close(){this.container.classList.remove("in"),this.container.style.display="none"}place(){document.body.appendChild(this.container)}destroy(){this.container.classList.remove("in"),this.container.style.display="none",this.container.remove(),this.core.updateAAOConfigButtons()}},m={Backspace:"backspace",Tab:"tab",Clear:"clear",Enter:"return",Return:"return",Esc:"escape",Escape:"escape",Space:"space",ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown",Delete:"delete"},g=class extends h{constructor(t,e){super(),this.aaoId=t,this.name=e,this.hotkeyCore=new d,this.toast=new l,this.settings=new u,this.setupModal()}updateModal(t=this.hotkeyCore.getHotkey(this.aaoId)){t?(this.actualHotkey.innerHTML=`Aktueller Hotkey: <strong>${t}</strong>`,this.buttons.delete.disabled=!1):(this.actualHotkey.innerHTML="Aktueller Hotkey: <strong>Keiner</strong>",this.buttons.delete.disabled=!0)}saveHotkey(){return this.input.value?this.hotkeyCore.addHotkey(this.aaoId,this.name,this.input.value)?(this.updateModal(),this.core.updateAAOConfigButtons(this.settings.loadSetting("showHotkeys")),!0):void 0:(this.toast.error("Bitte gib einen Hotkey ein."),!1)}setupModal(){const t=this.hotkeyCore.getHotkey(this.aaoId);this.title.textContent=`Hotkey für: ${this.name}`,t?(this.actualHotkey.innerHTML=`Aktueller Hotkey: <strong>${t}</strong>`,this.buttons.delete.disabled=!1):(this.actualHotkey.innerHTML="Aktueller Hotkey: <strong>Keiner</strong>",this.buttons.delete.disabled=!0),this.buttons.delete.addEventListener("click",(()=>{this.hotkeyCore.deleteHotkey(this.aaoId,(t=>{t&&(this.updateModal(),this.core.updateAAOConfigButtons())}))})),this.buttons.close.addEventListener("click",(()=>this.destroy())),this.buttons.cancel.addEventListener("click",(()=>this.destroy())),this.buttons.reset.addEventListener("click",(()=>{this.input.value=""})),this.buttons.save.addEventListener("click",(()=>{this.saveHotkey()})),this.buttons.saveClose.addEventListener("click",(()=>{this.saveHotkey()&&this.destroy()})),this.input.addEventListener("keydown",(t=>{let e=t.key;if(t.preventDefault(),"Enter"===e)this.buttons.save.click();else if("Escape"===e)this.destroy();else if("Delete"===e)this.buttons.delete.disabled||this.buttons.delete.click();else if("Backspace"===e)this.input.value="";else{const n=[t.metaKey?"⌘":"",t.ctrlKey?"Ctrl":"",t.shiftKey?"Shift":"",t.altKey?"Alt":""];e="Control"===e||"Shift"===e||"Alt"===e||"Meta"===e?"":m[e]||e,e=1===e.length?e.toUpperCase():e.toLowerCase();const o=[...n.filter(Boolean),e].join("+").trim();this.input.value=o}}))}},y=new p;const f='<div style="margin-bottom: 3px;"><strong>Warnung:</strong></div>\n<div style="margin-bottom: 3px;">\nZusätzlich lassen sich auch die Standard-Hotkeys verwenden.<br>\nEs sollte jedoch darauf geachtet werden, keine Konflikte zwischen den Hotkeys zu verursachen, da die ursprünglichen Hotkeys aktiv bleiben.<br>\nEs wird empfohlen, die Standard-Hotkeys nicht zu verwenden, wenn AAO Hotkeys Plus genutzt wird.\n</div>',k=new u,b=!1;function v(){return!!b||!!i||!!k.loadSetting("debugMode")}function w(){return{debugConf:i,debugForceDev:b,debugSetting:k.loadSetting("debugMode")}}function C(...t){!function(t="log",...e){v()&&("log"===t&&console.log(...e),"warn"===t&&console.warn(...e),"error"===t&&console.error(...e),"info"===t&&console.info(...e))}("log",...t)}const E=class{constructor(){this.core=new p,this.modalBuilder()}modalBuilder(){const t=document.createElement("div");t.className="modal fade",t.tabIndex=-1,t.role="dialog";const e=document.createElement("div");e.className="modal-dialog",e.role="document";const n=document.createElement("div");n.className="modal-content",t.appendChild(e),e.appendChild(n);const o=document.createElement("div");o.className="modal-header";const s=document.createElement("div");s.className="modal-body";const i=document.createElement("div");i.className="modal-footer",n.appendChild(o),n.appendChild(s),n.appendChild(i);const a=document.createElement("button");a.type="button",a.className="close",a.setAttribute("data-dismiss","modal"),a.setAttribute("aria-label","Close"),a.innerHTML='<span aria-hidden="true">&times;</span>';const r=document.createElement("h4");r.className="modal-title",o.appendChild(a),o.appendChild(r);const l=document.createElement("button");l.type="button",l.className="btn btn-default btn-xs",l.setAttribute("data-dismiss","modal"),l.setAttribute("aria-label","Close"),l.textContent="Close",i.appendChild(l),this.container=t,this.title=r,this.base={header:o,body:s,footer:i},this.buttons={close:a,cancel:l}}open(){this.place(),this.container.classList.add("in"),this.container.style.display="block"}close(){this.container.classList.remove("in"),this.container.style.display="none"}place(){document.body.appendChild(this.container)}destroy(){this.container.classList.remove("in"),this.container.style.display="none",this.container.remove()}},x=class extends E{constructor(){super(),this.hotkeyCore=new d,this.toast=new l,this.settings=new u,this.setupModal()}settingsToggleButton(t,e,n){const o=document.createElement("button");return o.textContent=e.state1,o.className=`btn btn-xs ${n.s1}`,o.style="margin-left: 10px;",this.settings.loadSetting(t)&&(o.textContent=e.state2,o.classList.remove(n.s1),o.classList.add(n.s2)),o.addEventListener("click",(()=>{if(this.settings.toggleSetting(t,!0)?(o.textContent=e.state2,o.classList.remove(n.s1),o.classList.add(n.s2)):(o.textContent=e.state1,o.classList.remove(n.s2),o.classList.add(n.s1)),"showHotkeysAAO"===t){const e=this.settings.loadSetting(t);this.core.updateAAOConfigButtons(e)}})),o}settingsBtnRow(t,e,n="",o={state1:"Anzeigen",state2:"Verstecken",invert:!1}){const s=document.createElement("div");s.style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;";const i={s1:o.invert?"btn-danger":"btn-success",s2:o.invert?"btn-success":"btn-danger"},a=document.createElement("div"),r=document.createElement("div");r.style="font-weight: bold;";const l=document.createElement("div");r.textContent=e,l.textContent=n,a.appendChild(r),a.appendChild(l),s.appendChild(a);const d=this.settingsToggleButton(t,o,i);return s.appendChild(d),"debugMode"===t&&(w().debugForceDev&&(d.textContent="Force Debug ist aktiviert",d.classList.remove(i.s1),d.classList.add(i.s2),d.disabled=!0,l.textContent="Force Debug-Modus wurde in webpack.dev.js aktiviert."),w().debugConf&&(d.textContent="Config Debug-Modus ist aktiviert",d.classList.remove(i.s1),d.classList.add(i.s2),d.disabled=!0,l.textContent="Debug-Modus wurde config.js aktiviert.")),s}settingsVersionRow(){const t=document.createElement("div");t.style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;";const e=document.createElement("div"),n=document.createElement("div");n.style="font-weight: bold;",n.textContent="Version";const o=document.createElement("div");return o.textContent=this.settings.getVersion(),e.appendChild(n),t.appendChild(e),t.appendChild(o),t}settingsExportHotkeysRow(){const t=document.createElement("div");t.style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;";const e=document.createElement("div"),n=document.createElement("div");n.style="font-weight: bold;",n.textContent="Export";const o=document.createElement("button");return o.textContent="Export",o.className="btn btn-xs btn-primary",o.style="margin-left: 10px;",o.addEventListener("click",(()=>{this.hotkeyCore.exportHotkeys()})),e.appendChild(n),t.appendChild(e),t.appendChild(o),t}settingsImportHotkeysRow(){const t=document.createElement("div");t.style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;";const e=document.createElement("div"),n=document.createElement("div");n.style="font-weight: bold;",n.textContent="Import";const o=document.createElement("button");o.textContent="Import",o.className="btn btn-xs btn-primary",o.style="margin-left: 10px;";const s=document.createElement("input");return s.type="file",s.accept=".json",s.style.display="none",s.addEventListener("change",(t=>{const e=t.target.files[0];e?this.hotkeyCore.importHotkeys(e):console.error("No file selected")})),o.addEventListener("click",(()=>{s.click()})),e.appendChild(n),t.appendChild(e),t.appendChild(o),t.appendChild(s),t}settingsDeleteAllRow(){const t=document.createElement("div");t.style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;";const e=document.createElement("div"),n=document.createElement("div");n.style="font-weight: bold;",n.textContent="Alle Hotkeys löschen";const o=document.createElement("button");return o.textContent="Löschen",o.className="btn btn-xs btn-danger",o.style="margin-left: 10px;",o.addEventListener("click",(()=>{this.hotkeyCore.deleteHotkeys()})),e.appendChild(n),t.appendChild(e),t.appendChild(o),t}setupModal(){this.title.textContent="Hotkey+ Settings";const t=this.base.body,e=(document.createElement("hr"),this.settingsBtnRow("disableHotkeys","Hotkeys Deaktivieren","Hotkeys werden Deaktiviert, in Missionen Funktionieren keine Hotkeys mehr, können im AAO-Editor aber Bearbeitet werden.",{state1:"Anzeigen",state2:"Verstecken",invert:!0})),n=this.settingsBtnRow("showHotkeysAAO","Hotkeys in AAO Editor anzeigen","Hotkeys werden im AAO-Editor angezeigt",{state1:"Anzeigen",state2:"Verstecken",invert:!1}),o=this.settingsBtnRow("showHotkeysMission","Hotkeys in Missionen anzeigen","Hotkeys werden in den Missionen angezeigt",{state1:"Anzeigen",state2:"Verstecken",invert:!1}),s=this.settingsBtnRow("debugMode","Debug-Modus aktivieren","Debug-Modus Temporär aktivieren",{state1:"Debug Aktivieren",state2:"Debug Deaktivieren",invert:!1}),i=this.settingsVersionRow(),a=this.settingsExportHotkeysRow(),r=this.settingsImportHotkeysRow(),l=this.settingsDeleteAllRow();t.appendChild(e),t.appendChild(document.createElement("hr")),t.appendChild(n),t.appendChild(document.createElement("hr")),t.appendChild(o),t.appendChild(document.createElement("hr")),t.appendChild(s),t.appendChild(document.createElement("hr")),t.appendChild(i),t.appendChild(document.createElement("hr")),t.appendChild(a),t.appendChild(document.createElement("hr")),t.appendChild(r),t.appendChild(document.createElement("hr")),t.appendChild(l),this.buttons.close.addEventListener("click",(()=>this.destroy())),this.buttons.cancel.addEventListener("click",(()=>this.destroy()))}},H=new p,A=v();const L="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function O(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),n)}function S(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent&&t.detachEvent("on".concat(e),n)}function M(t,e){const n=e.slice(0,e.length-1);for(let e=0;e<n.length;e++)n[e]=t[n[e].toLowerCase()];return n}function N(t){"string"!=typeof t&&(t="");const e=(t=t.replace(/\s/g,"")).split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}const T={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":L?173:189,"=":L?61:187,";":L?59:186,"'":222,"[":219,"]":221,"\\":220},B={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},j={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_={16:!1,18:!1,17:!1,91:!1},K={};for(let t=1;t<20;t++)T["f".concat(t)]=111+t;let V=[],P=null,R="all";const D=new Map,I=t=>T[t.toLowerCase()]||B[t.toLowerCase()]||t.toUpperCase().charCodeAt(0);function z(t){R=t||"all"}function $(){return R||"all"}function F(t){if(void 0===t)Object.keys(K).forEach((t=>{Array.isArray(K[t])&&K[t].forEach((t=>Z(t))),delete K[t]})),G(null);else if(Array.isArray(t))t.forEach((t=>{t.key&&Z(t)}));else if("object"==typeof t)t.key&&Z(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];let[s,i]=n;"function"==typeof s&&(i=s,s=""),Z({key:t,scope:s,method:i,splitKey:"+"})}}const Z=t=>{let{key:e,scope:n,method:o,splitKey:s="+"}=t;N(e).forEach((t=>{const e=t.split(s),i=e.length,a=e[i-1],r="*"===a?"*":I(a);if(!K[r])return;n||(n=$());const l=i>1?M(B,e):[],d=[];K[r]=K[r].filter((t=>{const e=(!o||t.method===o)&&t.scope===n&&function(t,e){const n=t.length>=e.length?t:e,o=t.length>=e.length?e:t;let s=!0;for(let t=0;t<n.length;t++)-1===o.indexOf(n[t])&&(s=!1);return s}(t.mods,l);return e&&d.push(t.element),!e})),d.forEach((t=>G(t)))}))};function q(t,e,n,o){if(e.element!==o)return;let s;if(e.scope===n||"all"===e.scope){s=e.mods.length>0;for(const t in _)Object.prototype.hasOwnProperty.call(_,t)&&(!_[t]&&e.mods.indexOf(+t)>-1||_[t]&&-1===e.mods.indexOf(+t))&&(s=!1);(0!==e.mods.length||_[16]||_[18]||_[17]||_[91])&&!s&&"*"!==e.shortcut||(e.keys=[],e.keys=e.keys.concat(V),!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function U(t,e){const n=K["*"];let o=t.keyCode||t.which||t.charCode;if(!W.filter.call(this,t))return;if(93!==o&&224!==o||(o=91),-1===V.indexOf(o)&&229!==o&&V.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach((e=>{const n=j[e];t[e]&&-1===V.indexOf(n)?V.push(n):!t[e]&&V.indexOf(n)>-1?V.splice(V.indexOf(n),1):"metaKey"===e&&t[e]&&3===V.length&&(t.ctrlKey||t.shiftKey||t.altKey||(V=V.slice(V.indexOf(n))))})),o in _){_[o]=!0;for(const t in B)B[t]===o&&(W[t]=!0);if(!n)return}for(const e in _)Object.prototype.hasOwnProperty.call(_,e)&&(_[e]=t[j[e]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===V.indexOf(17)&&V.push(17),-1===V.indexOf(18)&&V.push(18),_[17]=!0,_[18]=!0);const s=$();if(n)for(let o=0;o<n.length;o++)n[o].scope===s&&("keydown"===t.type&&n[o].keydown||"keyup"===t.type&&n[o].keyup)&&q(t,n[o],s,e);if(!(o in K))return;const i=K[o],a=i.length;for(let n=0;n<a;n++)if(("keydown"===t.type&&i[n].keydown||"keyup"===t.type&&i[n].keyup)&&i[n].key){const o=i[n],{splitKey:a}=o,r=o.key.split(a),l=[];for(let t=0;t<r.length;t++)l.push(I(r[t]));l.sort().join("")===V.sort().join("")&&q(t,o,s,e)}}function W(t,e,n){V=[];const o=N(t);let s=[],i="all",a=document,r=0,l=!1,d=!0,c="+",u=!1,p=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(i=e.scope),e.element&&(a=e.element),e.keyup&&(l=e.keyup),void 0!==e.keydown&&(d=e.keydown),void 0!==e.capture&&(u=e.capture),"string"==typeof e.splitKey&&(c=e.splitKey),!0===e.single&&(p=!0)),"string"==typeof e&&(i=e),p&&F(t,i);r<o.length;r++)s=[],(t=o[r].split(c)).length>1&&(s=M(B,t)),(t="*"===(t=t[t.length-1])?"*":I(t))in K||(K[t]=[]),K[t].push({keyup:l,keydown:d,scope:i,mods:s,shortcut:o[r],method:n,key:o[r],splitKey:c,element:a});if(void 0!==a&&window){if(!D.has(a)){const t=function(){return U(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,a)},e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;U(t,a),function(t){let e=t.keyCode||t.which||t.charCode;const n=V.indexOf(e);if(n>=0&&V.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&V.splice(0,V.length),93!==e&&224!==e||(e=91),e in _){_[e]=!1;for(const t in B)B[t]===e&&(W[t]=!1)}}(t)};D.set(a,{keydownListener:t,keyupListenr:e,capture:u}),O(a,"keydown",t,u),O(a,"keyup",e,u)}if(!P){const t=()=>{V=[]};P={listener:t,capture:u},O(window,"focus",t,u)}}}function G(t){const e=Object.values(K).flat();if(e.findIndex((e=>{let{element:n}=e;return n===t}))<0){const{keydownListener:e,keyupListenr:n,capture:o}=D.get(t)||{};e&&n&&(S(t,"keyup",n,o),S(t,"keydown",e,o),D.delete(t))}if((e.length<=0||D.size<=0)&&(Object.keys(D).forEach((t=>{const{keydownListener:e,keyupListenr:n,capture:o}=D.get(t)||{};e&&n&&(S(t,"keyup",n,o),S(t,"keydown",e,o),D.delete(t))})),D.clear(),Object.keys(K).forEach((t=>delete K[t])),P)){const{listener:t,capture:e}=P;S(window,"focus",t,e),P=null}}const J={getPressedKeyString:function(){return V.map((t=>{return e=t,Object.keys(T).find((t=>T[t]===e))||(t=>Object.keys(B).find((e=>B[e]===t)))(t)||String.fromCharCode(t);var e}))},setScope:z,getScope:$,deleteScope:function(t,e){let n,o;t||(t=$());for(const e in K)if(Object.prototype.hasOwnProperty.call(K,e))for(n=K[e],o=0;o<n.length;)n[o].scope===t?n.splice(o,1).forEach((t=>{let{element:e}=t;return G(e)})):o++;$()===t&&z(e||"all")},getPressedKeyCodes:function(){return V.slice(0)},getAllKeyCodes:function(){const t=[];return Object.keys(K).forEach((e=>{K[e].forEach((e=>{let{key:n,scope:o,mods:s,shortcut:i}=e;t.push({scope:o,shortcut:i,mods:s,keys:n.split("+").map((t=>I(t)))})}))})),t},isPressed:function(t){return"string"==typeof t&&(t=I(t)),-1!==V.indexOf(t)},filter:function(t){const e=t.target||t.srcElement,{tagName:n}=e;let o=!0;const s="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(s||"TEXTAREA"===n||"SELECT"===n)&&!e.readOnly)&&(o=!1),o},trigger:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(K).forEach((n=>{K[n].filter((n=>n.scope===e&&n.shortcut===t)).forEach((t=>{t&&t.method&&t.method()}))}))},unbind:F,keyMap:T,modifier:B,modifierMap:j};for(const t in J)Object.prototype.hasOwnProperty.call(J,t)&&(W[t]=J[t]);if("undefined"!=typeof window){const t=window.hotkeys;W.noConflict=e=>(e&&window.hotkeys===W&&(window.hotkeys=t),W),window.hotkeys=W}const X=new p,Q=new l,Y=new u;const tt=new p,et=class{isAaoPage(t=null){return/^\/aaos\/?$/.test(t)}isAaoEditPage(t){return/^\/aaos\/\d+\/edit\/?$/.test(t)}isMissionsPage(t){return/^\/missions/.test(t)}initSelf(e=null){let n;return null===e?n=window.location.pathname:"string"==typeof e&&(n=new URL(e).pathname),C("initSelf aufgerufen mit URL:",n),this.isAaoPage(n)?(C("Auf der AAO-Seite"),function(){const t=document.querySelector("#mission-aao-group");C("aaoRegion:",t);const e=function(){const t=document.createElement("button");t.classList.add("btn","btn-xs");let e=H.loadSetting("showHotkeysAAO",A);return e?(t.innerHTML="Hotkeys verstecken",t.classList.add("btn-danger")):(t.innerHTML="Hotkeys anzeigen",t.classList.add("btn-success")),t.addEventListener("click",(()=>{e=H.toggleSetting("showHotkeysAAO",A),e?(t.innerHTML="Hotkeys verstecken",t.classList.remove("btn-success"),t.classList.add("btn-danger")):(t.innerHTML="Hotkeys anzeigen",t.classList.remove("btn-danger"),t.classList.add("btn-success")),C("State:",e),H.updateAAOConfigButtons(e)})),t}(),n=function(){const t=document.createElement("button");return t.classList.add("btn","btn-xs","btn-info"),t.innerHTML="Hotkey+ Settings",t.addEventListener("click",(()=>{(new x).open()})),t}(),o=document.createElement("div");o.classList.add("btn-group"),o.appendChild(e),o.appendChild(n),t&&t.appendChild(o)}(),document.querySelectorAll(".aao_btn_group").forEach((e=>{const n=e.querySelector('a[href$="/edit"]');if(n){const e=n.getAttribute("href"),o=/aaos\/(\d+)\/edit/.exec(e);if(o){const e=function(e,n,o,s){const i=y.getHotkey(n),a=y.loadSetting("showHotkeys"),r=document.createElement("span");r.textContent=i?i?`[${i}]`:"[none]":" [none]";const l=document.createElement("button");l.innerHTML=a?`${t} ${r.textContent}`:t;const d=l.querySelector("svg");return d.style.width="12px",d.style.height="12px",d.style.fill="currentColor",l.setAttribute("data-aao-id",n),l.classList.add("hotkeyConfigButton","hotkeyBtn","btn","btn-xs","btn-default"),l.style.cssText=s,l.id=`hotkeyButton_${n}`,l.addEventListener("click",(()=>{const t=new g(n,o);t.open(),t.input.focus()})),l}(0,o[1],n.textContent.trim(),n.style.cssText);n.after(e)}}})),tt.updateAAOConfigButtons(),!0):this.isAaoEditPage(n)?(C("Auf einer AAO-Bearbeiten-Seite"),function(){const t="Ctrl+Alt+S[PH]",e=document.querySelector(".aao_hotkey"),n=document.createElement("div");n.className="alert alert-warning",n.style.fontSize="12px",n.style.marginBottom="0",n.style.padding="10px",n.innerHTML=t?f+"<div>In AAO Hotkeys Plus wurde folgender Hotkey für diese AAO gesetzt: <strong>"+t+"</strong></div>":f+"<div>In AAO Hotkeys Plus wurde noch kein Hotkey für diese AAO gesetzt.</div>",e.querySelector(".col-sm-9").appendChild(n)}(),!0):!!this.isMissionsPage(n)&&(C("Auf einer Missions-Seite"),function(){const t=X.getHotkeys();Y.loadSetting("showHotkeysMission")&&function(t){document.querySelectorAll(".aao_timer").forEach((e=>{const n=e.getAttribute("id").split("_")[2],o=t.find((t=>t.id===n)),s=document.createElement("span");s.className="hotkeyBtn",s.style="margin-left: 5px;",s.textContent=o?`[${o.hotkey}]`:"[none]";const i=e.previousElementSibling;i&&"SPAN"===i.tagName&&i.insertAdjacentElement("afterend",s)}))}(t),t&&t.forEach((t=>{W(t.hotkey,(function(e,n){e.preventDefault(),function(t){const e=document.querySelector(`#aao_${t}`);e&&e.click()}(t.id),Q.info(`Hotkey ${t.hotkey} - ${t.name} - ${t.id} wurde gedrückt!`,1e3)}))}))}(),!0)}},nt=new et,ot=(t,e)=>{for(let e of t)"childList"===e.type&&"lightbox_box"===e.target.id&&(C("Mutation in #lightbox_box"),e.addedNodes.forEach((t=>{t.classList&&t.classList.contains("lightbox_iframe")&&(C("Ein iframe wurde zum lightbox_box hinzugefügt."),t.addEventListener("DOMContentLoaded",(()=>{C("iframe vollständig geladen."),C("iframe src:",t.src),nt.initSelf(t.src)})))})))};const st=new et;window.addEventListener("load",(()=>{C("%cHotkeys Plus v1.0.4 wurde geladen, Debug Modus ist aktiviert.","color:magenta"),C("%cDebug Info:","color:magenta",w()),function(){const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/gh/onekintaro/lss-hotkeys-plus/assets/css/toastify.css",t.type="text/css",t.rel="stylesheet",document.head.appendChild(t)}(),function(){const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/gh/onekintaro/lss-hotkeys-plus/assets/css/hotkeys.css",t.type="text/css",t.rel="stylesheet",document.head.appendChild(t)}(),function(){if(null!==document.getElementById("logout_button")){const t=document.createElement("li");t.setAttribute("class","divider"),t.setAttribute("role","presentation"),document.getElementById("logout_button").parentElement.parentElement.append(t);const e=document.createElement("a");e.setAttribute("href","javascript: void(0)"),e.append(" Hotkeys+ Settings"),e.addEventListener("click",(t=>function(t){t.preventDefault(),(new x).open()}(t)));const n=document.createElement("li");n.appendChild(e),document.getElementById("logout_button").parentElement.parentElement.append(n)}}(),st.initSelf()||(C("Keine passende Seite gefunden."),C("Verwende den MutationObserver."),function(){const t=document.body;new MutationObserver(ot).observe(t,{childList:!0,attributes:!1,subtree:!0}),C("Beobachtung des gesamten body gestartet.")}())}))})()})();